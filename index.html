<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Renyu Demo (Audio + IMU + poster + videoTest)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <link rel="stylesheet" href="assets/css/default.css" />
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
</head>

<body>
    <!-- safety-background ////////////////////////// -->
    <div id="safetyBg" style="background-color: white; display: block; position: fixed; overflow: hidden; margin: 0 auto; height:100%; width: 100%; z-index: -99;">
    </div>


    <!-- orientation control ////////////////////////// -->
    <div class="rotatephone" style="background-color: black;">
        <img src="resources/rotate_phone_words_white_2.png"
             style="height: 100%; width: 100%; object-fit: contain;" />
    </div>

    <!-- video background ////////////////////////// -->
    <div id="video-bg">
        <video id="video" playsinline=""></video>
    </div>

    <!-- Background Audio ///////////////////////////////////////////////  -->
    <div id="div-bg-audio" class="container" style="z-index: -100; display: block;">
        <audio id="bg-audio-mp3" src="resources/renyu-bg-mp3.mp3" autoplay loop></audio>
        <audio id="bg-audio-ogg" src="resources/renyu-bg-ogg.ogg" autoplay loop></audio>
    </div>


    <!-- Magicast Loading page ////////////////////////// -->
    <div id="pageFirst" class="page none">

        <!--<div id="iosWxMini" class="none">因iOS微信小程序的限制<br />小程序不能打开摄像头<br />请点击“立即体验”</div>-->
        <div id="div-loading">
            <img src="resources/openanim-landscape2.jpg" />
        </div>

        <div id="div-startAR" class="main">
            <div id="wrapper-startAR" class="wrapper" style="vertical-align: middle;">
                <div id="container-start-video" style="margin: 0 auto; height: 10vh; width: 40vw;">
                    <img id="btnStartAR" src="resources/btn_ar.png" style="height: 100%; width: 100%; object-fit: contain; z-index: 2;" />
                </div>
            </div>
        </div>
    </div>

    <!-- iPhone Safari 提示 ////////////////////////// -->
    <div id="pageWxIos" class="maskerMsg none">
        <div class="masker"></div>
        <div>
            <img class="icon-wx-ios" src="assets/images/share_ios.png" />
            <div class="tip">
                <div>
                    请点击右上角
                    <br />选择“在Safari中打开”
                </div>
            </div>
        </div>
    </div>

    <!-- Magicast Scanning page ////////////////////////// -->
    <div id="pageScanning" class="page none">
        <div id="div-scanning" class="main">
            <div id="wrapper-scanning" class="wrapper" style="vertical-align: bottom;">
                <div id="container-scan-gif" style="margin: 0 auto; height: 65vh; width: 40vw; display: block;">
                    <img id="scanningGif" src="" style="height: 100%; width: 100%;" />
                </div>
                <div id="container-renyuPoster" style="margin: 0 auto; height: 65vh; width: 40vw; display: none;">
                    <img id="renyuPoster" src="" style="height: 100%;" />
                </div>
                <div id="container-start-video" style="margin: 0 auto; height: 10vh; width: 40vw; padding-top: 5vh; padding-bottom: 10vh;">
                    <img id="btnReady" src="" style="height: 100%; width: 100%; object-fit: contain; z-index: 2; display: block;" />
                </div>
            </div>
        </div>
    </div>

    <!-- RenYu display page ////////////////////////// -->
    <div id="pageDisplay" class="page none">
        <div id="div-display" class="main">
            <div id="wrapper-display" class="wrapper" style="vertical-align: bottom;">
                <div id="container-btnMore" style="margin: 0 auto; height: 10vh; width: 40vw; padding-bottom: 10vh;">
                    <img id="btnMore" src="" style="height: 100%; width: 100%; object-fit: contain; z-index: 2;" />
                </div>
            </div>
        </div>
    </div>

    <!-- Voiceover ///////////////////////////////////////////////  -->
    <div id="div-voiceover-audio" class="container" style="z-index: -100; display: block;">
        <audio id="voiceover-audio-mp3" src=""></audio>
        <audio id="voiceover-audio-ogg" src=""></audio>
    </div>

    <!-- RenYu introduction passage /////////////////// -->
    <div id="pageMore" class="page none">
        <div id="div-more" class="main" style="z-index: 501;">
            <div id="wrapper-more" class="wrapper" style="background-color:white;">
                <div id="container-btnBack" style="margin: 0 auto; height: 12vh; width: 40vw; padding-top: 2vh; padding-bottom: 2vh;">
                    <img id="btnBack" src="" style="height: 100%; width: 100%; object-fit: contain;" />
                </div>
                <div id="container-renyu-intro" style="margin: 0 auto; height: auto; width: 100vw;">
                    <img id="renyuIntro" src="" style="height: auto; width: 70%;" />
                </div>
            </div>
        </div>
    </div>

    <!-- ////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////// -->
    <!-- //////////////////////////////////////////////////////

                    <img id="my-image" src="resources/renyu_main_poster_cut1.png">
                    <a-image src="#my-image" position="0 2 -25" rotation="0 0 0" scale="15 12 0"></a-image>

                -->

    <a-scene embedded style="z-index: -100" vr-mode-ui='enabled: false;'>
        <a-node id="dummy"></a-node>

        <a-assets>
            <video id="renyuMP4" autoplay loop muted src=""></video>
        </a-assets>

        <a-entity id="imageWrapper" position="0 0 0" rotation="0 0 0">
            <a-video src="#renyuMP4" width="16" height="9" position="0 2 -40" scale="2 2 1"></a-video>
        </a-entity>

        <a-entity>
            <a-entity id="aframeCamera" position="0 0 0" rotation="0 0 0" camera="fov:40" wasd-controls-enabled="false" look-controls-enabled="true">
            </a-entity>
        </a-entity>
    </a-scene>


    <!-- ////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////////////////////////// -->
    <!-- Javascript imports ////////////////////////// -->
    <script type="text/javascript" src="assets/libs/webrtc/adapter.min.js"></script>
    <script type="text/javascript">
        (function () {
            //        const vconsole = new VConsole();

            const script = document.createElement('script');
            script.src = 'assets/js/app.js?t=' + (new Date()).getTime();
            document.body.appendChild(script);
        })();
    </script>
</body>
</html>